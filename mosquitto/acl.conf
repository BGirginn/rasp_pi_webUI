# Pi Control Panel - MQTT Access Control List
# Format: topic [read|write|readwrite|deny] <topic pattern>

# ===========================================
# Panel API User - Full Access
# ===========================================
user panel
topic readwrite #

# ===========================================
# ESP Device Users - Restricted Access
# ===========================================

# Pattern for ESP devices:
# - Can publish to their own telemetry topic
# - Can subscribe to their own command topic
# - Cannot access other devices' topics

# Example: ESP_kitchen
user esp_kitchen
topic write devices/esp_kitchen/telemetry
topic write devices/esp_kitchen/status
topic read devices/esp_kitchen/command
topic read devices/esp_kitchen/config

# Example: ESP_garage
user esp_garage
topic write devices/esp_garage/telemetry
topic write devices/esp_garage/status
topic read devices/esp_garage/command
topic read devices/esp_garage/config

# Example: ESP_bedroom
user esp_bedroom
topic write devices/esp_bedroom/telemetry
topic write devices/esp_bedroom/status
topic read devices/esp_bedroom/command
topic read devices/esp_bedroom/config

# ===========================================
# Default Deny
# ===========================================
# Any topic not explicitly allowed is denied
# This is the default behavior when ACL is enabled

# ===========================================
# Topic Structure
# ===========================================
# devices/{device_id}/telemetry  - Device sends sensor data
# devices/{device_id}/status     - Device sends online/offline status
# devices/{device_id}/command    - Panel sends commands to device
# devices/{device_id}/config     - Panel sends config updates to device
# system/discovery               - Panel internal discovery topic
# system/alerts                  - Panel internal alerts topic
