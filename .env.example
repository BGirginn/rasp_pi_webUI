# Pi Control Panel - Environment Configuration
# Copy this file to .env and update values

# ===========================================
# Panel API Configuration
# ===========================================

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=15
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# Database Paths
DATABASE_PATH=/data/control.db
TELEMETRY_DB_PATH=/data/telemetry.db

# Agent Socket
AGENT_SOCKET=/run/agent.sock

# API Settings
API_HOST=0.0.0.0
API_PORT=8080
API_DEBUG=false

# Rate Limiting
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_ADMIN_CONSOLE=10

# ===========================================
# Security Configuration
# ===========================================

# Allow LAN access (set to true for local network access)
PANEL_ALLOW_LAN=false

# Tailscale network CIDR (for IP whitelist)
TAILSCALE_CIDR=100.64.0.0/10

# CORS Origins (comma-separated)
CORS_ORIGINS=https://pi-control.tailnet-xyz.ts.net

# ===========================================
# Agent Configuration
# ===========================================

# Discovery interval (seconds)
DISCOVERY_INTERVAL=30

# Health beacon interval (seconds)
HEALTH_BEACON_INTERVAL=10

# Telemetry collection interval (seconds)
TELEMETRY_INTERVAL=2

# ===========================================
# MQTT Configuration
# ===========================================

MQTT_HOST=mosquitto
MQTT_PORT=1883
MQTT_USERNAME=panel
MQTT_PASSWORD=change-this-mqtt-password

# ===========================================
# External Services
# ===========================================

# Email Notifications (optional)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=
# SMTP_PASSWORD=
# SMTP_FROM=pi-control@example.com
# SMTP_TO=admin@example.com

# Telegram Notifications (optional)
# TELEGRAM_BOT_TOKEN=
# TELEGRAM_CHAT_ID=

# ===========================================
# Telemetry Retention
# ===========================================

# Raw metrics retention (hours)
TELEMETRY_RAW_RETENTION_HOURS=24

# Summary metrics retention (days)
TELEMETRY_SUMMARY_RETENTION_DAYS=30

# Audit log retention (days)
AUDIT_LOG_RETENTION_DAYS=90
